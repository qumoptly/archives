<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>ParticleSystem - Particulate.js</title>
  <link rel="stylesheet" href="http://yui.yahooapis.com/3.8.0pr2/build/cssgrids/cssgrids-min.css">
  <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
  <link rel="shortcut icon" href="/site/img/favicon.ico">
  <script src="http://yui.yahooapis.com/combo?3.8.0pr2/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
  <div id="hd" class="yui3-g header">
    <div class="yui3-u-3-4">
      <h1><a href="../index.html">Particulate.js</a> <sup>0.3.3</sup></h1>
    </div>
  </div>
  <div class="yui3-g">
    <div id="main" class="yui3-u">
      <div class="content"><h2 class="module-name">ParticleSystem</h2>
<div class="module-meta">
  <span class="foundat">Defined in: <a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L15"><code>src&#x2F;systems&#x2F;ParticleSystem.js:15</code></a></span>
</div>

<div class="intro">
  <p>Manages particle state as well as the forces and constraints that act on its particles.</p>

</div>

  <a name="methods_ParticleSystem"></a>
  <div class="method item">
    <div class="signature">
      
      <code class="name">ParticleSystem</code>( <code class="method-args">particles, iterations</code> )
      
      
      
      <em class="type"></em>
    </div>
    <span class="foundat">
      
      <a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L15"><code>src&#x2F;systems&#x2F;ParticleSystem.js:15</code></a>
    </span>
    
    <ul class="params">
      <li>
        <code>particles</code> <em class="type">Int | Array</em>
      <div class="description">
        <p>Number of particles or array of initial particle positions</p>
  
      </div>
      </li>
      <li>
        <code>iterations</code> <em class="type">Int</em>
      <div class="description">
        <p>Number of constraint iterations per system tick</p>
  
      </div>
      </li>
    </ul>
  </div>

<div id="classdocs">
  <ul>
    <li><a href="#methods">Methods</a></li>
    <li><a href="#props">Properties</a></li>
  </ul>
  <div>
      <div id="methods">
        <a name="methods_accumulateForces"></a>
        <div class="method item private">
          <div class="signature">
            
            <code class="name">accumulateForces</code>( <code class="method-args">delta</code> )
            <span class="flag access">private</span>
            
            
            <em class="type"></em>
          </div>
          <span class="foundat">
            
            <a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L345"><code>src&#x2F;systems&#x2F;ParticleSystem.js:345</code></a>
          </span>
          <p>Accumulate forces acting on particles.</p>
        
          <ul class="params">
            <li>
              <code>delta</code> <em class="type">Float</em>
            <div class="description">
              <p>Time step</p>
        
            </div>
            </li>
          </ul>
        </div>
        <a name="methods_addConstraint"></a>
        <div class="method item">
          <div class="signature">
            
            <code class="name">addConstraint</code>( <code class="method-args">constraint</code> )
            
            
            
            <em class="type"></em>
          </div>
          <span class="foundat">
            
            <a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L226"><code>src&#x2F;systems&#x2F;ParticleSystem.js:226</code></a>
          </span>
          <p>Add a constraint</p>
        
          <ul class="params">
            <li>
              <code>constraint</code> <em class="type"><a href="../classes/Constraint.html" class="crosslink">Constraint</a></em>
            <div class="description">
               
            </div>
            </li>
          </ul>
        </div>
        <a name="methods_addForce"></a>
        <div class="method item">
          <div class="signature">
            
            <code class="name">addForce</code>( <code class="method-args">force</code> )
            
            
            
            <em class="type"></em>
          </div>
          <span class="foundat">
            
            <a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L325"><code>src&#x2F;systems&#x2F;ParticleSystem.js:325</code></a>
          </span>
          <p>Add a force</p>
        
          <ul class="params">
            <li>
              <code>force</code> <em class="type"><a href="../classes/Force.html" class="crosslink">Force</a></em>
            <div class="description">
               
            </div>
            </li>
          </ul>
        </div>
        <a name="methods_addPinConstraint"></a>
        <div class="method item">
          <div class="signature">
            
            <code class="name">addPinConstraint</code>( <code class="method-args">constraint</code> )
            
            
            
            <em class="type"></em>
          </div>
          <span class="foundat">
            
            <a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L246"><code>src&#x2F;systems&#x2F;ParticleSystem.js:246</code></a>
          </span>
          <p>Add a pin constraint.
        Although intended for instances of <code>PointConstraint</code>, this can be any
        type of constraint and will be resolved last in the relaxation loop.</p>
        
          <ul class="params">
            <li>
              <code>constraint</code> <em class="type"><a href="../classes/Constraint.html" class="crosslink">Constraint</a></em>
            <div class="description">
               
            </div>
            </li>
          </ul>
        </div>
        <a name="methods_create"></a>
        <div class="method item">
          <div class="signature">
            
            <code class="name">create</code>( <code class="method-args"> </code> )
            
            <span class="flag static">static</span>
            
            <em class="type"></em>
          </div>
          <span class="foundat">
            
            <a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L86"><code>src&#x2F;systems&#x2F;ParticleSystem.js:86</code></a>
          </span>
          <p>Create instance, accepts constructor arguments.</p>
        
        </div>
        <a name="methods_getAngle"></a>
        <div class="method item">
          <div class="signature">
            
            <code class="name">getAngle</code>( <code class="method-args">a, b, c</code> )
            
            
            
            <em class="type">Float</em>
          </div>
          <span class="foundat">
            
            <a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L132"><code>src&#x2F;systems&#x2F;ParticleSystem.js:132</code></a>
          </span>
          <p>Alias for <code>Vec3.angle</code>. Calculates angle from <code>positions</code>.</p>
        
          <ul class="params">
            <li>
              <code>a</code> <em class="type">Int</em>
            <div class="description">
              <p>Particle index</p>
        
            </div>
            </li>
            <li>
              <code>b</code> <em class="type">Int</em>
            <div class="description">
              <p>Particle index</p>
        
            </div>
            </li>
            <li>
              <code>c</code> <em class="type">Int</em>
            <div class="description">
              <p>Particle index</p>
        
            </div>
            </li>
          </ul>
          <div class="returns">
            Returns: <em class="type">Float</em>
            <div class="description"><p>Angle in radians</p>
        </div>
          </div>
        </div>
        <a name="methods_getDistance"></a>
        <div class="method item">
          <div class="signature">
            
            <code class="name">getDistance</code>( <code class="method-args">a, b</code> )
            
            
            
            <em class="type">Float</em>
          </div>
          <span class="foundat">
            
            <a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L120"><code>src&#x2F;systems&#x2F;ParticleSystem.js:120</code></a>
          </span>
          <p>Alias for <code>Vec3.getDistance</code>. Calculates distance from <code>positions</code>.</p>
        
          <ul class="params">
            <li>
              <code>a</code> <em class="type">Int</em>
            <div class="description">
              <p>Particle index</p>
        
            </div>
            </li>
            <li>
              <code>b</code> <em class="type">Int</em>
            <div class="description">
              <p>Particle index</p>
        
            </div>
            </li>
          </ul>
          <div class="returns">
            Returns: <em class="type">Float</em>
            <div class="description"><p>Distance</p>
        </div>
          </div>
        </div>
        <a name="methods_getPosition"></a>
        <div class="method item">
          <div class="signature">
            
            <code class="name">getPosition</code>( <code class="method-args">i, out</code> )
            
            
            
            <em class="type"><a href="../classes/Vec3.html" class="crosslink">Vec3</a></em>
          </div>
          <span class="foundat">
            
            <a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L108"><code>src&#x2F;systems&#x2F;ParticleSystem.js:108</code></a>
          </span>
          <p>Alias for <code>Vec3.copy</code>. Copys vector from <code>positions</code>.</p>
        
          <ul class="params">
            <li>
              <code>i</code> <em class="type">Int</em>
            <div class="description">
              <p>Particle index</p>
        
            </div>
            </li>
            <li>
              <code>out</code> <em class="type"><a href="../classes/Vec3.html" class="crosslink">Vec3</a></em>
            <div class="description">
               
            </div>
            </li>
          </ul>
          <div class="returns">
            Returns: <em class="type"><a href="../classes/Vec3.html" class="crosslink">Vec3</a></em>
            <div class="description"><p>out</p>
        </div>
          </div>
        </div>
        <a name="methods_integrate"></a>
        <div class="method item private">
          <div class="signature">
            
            <code class="name">integrate</code>( <code class="method-args">delta</code> )
            <span class="flag access">private</span>
            
            
            <em class="type"></em>
          </div>
          <span class="foundat">
            
            <a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L192"><code>src&#x2F;systems&#x2F;ParticleSystem.js:192</code></a>
          </span>
          <p>Calculate particle's next position through Verlet integration.
        Called as part of <code>tick</code>.</p>
        
          <ul class="params">
            <li>
              <code>delta</code> <em class="type">Float</em>
            <div class="description">
              <p>Time step</p>
        
            </div>
            </li>
          </ul>
        </div>
        <a name="methods_removeConstraint"></a>
        <div class="method item">
          <div class="signature">
            
            <code class="name">removeConstraint</code>( <code class="method-args">constraint</code> )
            
            
            
            <em class="type"></em>
          </div>
          <span class="foundat">
            
            <a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L236"><code>src&#x2F;systems&#x2F;ParticleSystem.js:236</code></a>
          </span>
          <p>Alias for <code>Collection.removeAll</code>. Remove all references to a constraint.</p>
        
          <ul class="params">
            <li>
              <code>constraint</code> <em class="type"><a href="../classes/Constraint.html" class="crosslink">Constraint</a></em>
            <div class="description">
               
            </div>
            </li>
          </ul>
        </div>
        <a name="methods_removeForce"></a>
        <div class="method item">
          <div class="signature">
            
            <code class="name">removeForce</code>( <code class="method-args">force</code> )
            
            
            
            <em class="type"></em>
          </div>
          <span class="foundat">
            
            <a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L335"><code>src&#x2F;systems&#x2F;ParticleSystem.js:335</code></a>
          </span>
          <p>Alias for <code>Collection.removeAll</code>. Remove all references to a force.</p>
        
          <ul class="params">
            <li>
              <code>force</code> <em class="type"><a href="../classes/Force.html" class="crosslink">Force</a></em>
            <div class="description">
               
            </div>
            </li>
          </ul>
        </div>
        <a name="methods_removePinConstraint"></a>
        <div class="method item">
          <div class="signature">
            
            <code class="name">removePinConstraint</code>( <code class="method-args">constraint</code> )
            
            
            
            <em class="type"></em>
          </div>
          <span class="foundat">
            
            <a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L258"><code>src&#x2F;systems&#x2F;ParticleSystem.js:258</code></a>
          </span>
          <p>Alias for <code>Collection.removeAll</code>. Remove all references to a pin constraint.</p>
        
          <ul class="params">
            <li>
              <code>constraint</code> <em class="type"><a href="../classes/Constraint.html" class="crosslink">Constraint</a></em>
            <div class="description">
               
            </div>
            </li>
          </ul>
        </div>
        <a name="methods_satisfyConstraintGroup"></a>
        <div class="method item private">
          <div class="signature">
            
            <code class="name">satisfyConstraintGroup</code>( <code class="method-args">group, [count], [itemSize]</code> )
            <span class="flag access">private</span>
            
            
            <em class="type"></em>
          </div>
          <span class="foundat">
            
            <a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L292"><code>src&#x2F;systems&#x2F;ParticleSystem.js:292</code></a>
          </span>
          <p>Resolve a group of constraints.</p>
        
          <ul class="params">
            <li>
              <code>group</code> <em class="type">Array</em>
            <div class="description">
              <p>List of constraints</p>
        
            </div>
            </li>
            <li>
              <code>[count]</code> <em class="type">Int</em>
            <div class="description">
              <p>Override for number of particles a constraint affects</p>
        
            </div>
            </li>
            <li>
              <code>[itemSize]</code> <em class="type">Int</em>
            <div class="description">
              <p>Override for particle index stride</p>
        
            </div>
            </li>
          </ul>
        </div>
        <a name="methods_satisfyConstraints"></a>
        <div class="method item private">
          <div class="signature">
            
            <code class="name">satisfyConstraints</code>( <code class="method-args"> </code> )
            <span class="flag access">private</span>
            
            
            <em class="type"></em>
          </div>
          <span class="foundat">
            
            <a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L268"><code>src&#x2F;systems&#x2F;ParticleSystem.js:268</code></a>
          </span>
          <p>Run relaxation loop, resolving constraints per defined iterations.
        Constraints are resolved in order by type: global, local, pin.</p>
        
        </div>
        <a name="methods_setPosition"></a>
        <div class="method item">
          <div class="signature">
            
            <code class="name">setPosition</code>( <code class="method-args">i, x, y, z</code> )
            
            
            
            <em class="type"></em>
          </div>
          <span class="foundat">
            
            <a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L94"><code>src&#x2F;systems&#x2F;ParticleSystem.js:94</code></a>
          </span>
          <p>Alias for <code>Vec3.set</code>. Sets vector of <code>positions</code> and <code>positionsPrev</code>.</p>
        
          <ul class="params">
            <li>
              <code>i</code> <em class="type">Int</em>
            <div class="description">
              <p>Particle index</p>
        
            </div>
            </li>
            <li>
              <code>x</code> <em class="type">Float</em>
            <div class="description">
               
            </div>
            </li>
            <li>
              <code>y</code> <em class="type">Float</em>
            <div class="description">
               
            </div>
            </li>
            <li>
              <code>z</code> <em class="type">Float</em>
            <div class="description">
               
            </div>
            </li>
          </ul>
        </div>
        <a name="methods_setWeight"></a>
        <div class="method item">
          <div class="signature">
            
            <code class="name">setWeight</code>( <code class="method-args">i, w</code> )
            
            
            
            <em class="type"></em>
          </div>
          <span class="foundat">
            
            <a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L145"><code>src&#x2F;systems&#x2F;ParticleSystem.js:145</code></a>
          </span>
          <p>Set a particle's mass</p>
        
          <ul class="params">
            <li>
              <code>i</code> <em class="type">Int</em>
            <div class="description">
              <p>Particle index</p>
        
            </div>
            </li>
            <li>
              <code>w</code> <em class="type">Float</em>
            <div class="description">
              <p>Weight</p>
        
            </div>
            </li>
          </ul>
        </div>
        <a name="methods_tick"></a>
        <div class="method item">
          <div class="signature">
            
            <code class="name">tick</code>( <code class="method-args">delta</code> )
            
            
            
            <em class="type"></em>
          </div>
          <span class="foundat">
            
            <a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L369"><code>src&#x2F;systems&#x2F;ParticleSystem.js:369</code></a>
          </span>
          <p>Step simulation forward one frame.
        Applies forces, calculates particle positions, and resolves constraints.</p>
        
          <ul class="params">
            <li>
              <code>delta</code> <em class="type">Float</em>
            <div class="description">
              <p>Time step</p>
        
            </div>
            </li>
          </ul>
        </div>
      </div>
      <div id="props">
        <a name="props__count"></a>
        <div class="props item">
          <div class="signature">
            <code class="name">_count</code> <em class="type">Int</em>
            <span class="flag access">private</span>
            
            
            
          </div>
          <span class="foundat"><a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L71"><code>src&#x2F;systems&#x2F;ParticleSystem.js:71</code></a></span>
          <p>Number of particles in system</p>
        
        </div>
        <a name="props__iterations"></a>
        <div class="props item">
          <div class="signature">
            <code class="name">_iterations</code> <em class="type">Int</em>
            <span class="flag access">private</span>
            
            
            
          </div>
          <span class="foundat"><a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L62"><code>src&#x2F;systems&#x2F;ParticleSystem.js:62</code></a></span>
          <p>Number of constraint relaxation loop iterations</p>
        
        </div>
        <a name="props_accumulatedForces"></a>
        <div class="props item">
          <div class="signature">
            <code class="name">accumulatedForces</code> <em class="type">Float32Array (Vec3)</em>
            
            
            
            
          </div>
          <span class="foundat"><a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L45"><code>src&#x2F;systems&#x2F;ParticleSystem.js:45</code></a></span>
          <p>Accumulated forces currently acting on particles</p>
        
        </div>
        <a name="props_positions"></a>
        <div class="props item">
          <div class="signature">
            <code class="name">positions</code> <em class="type">Float32Array (Vec3)</em>
            
            
            
            
          </div>
          <span class="foundat"><a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L29"><code>src&#x2F;systems&#x2F;ParticleSystem.js:29</code></a></span>
          <p>Current particle positions</p>
        
        </div>
        <a name="props_positionsPrev"></a>
        <div class="props item">
          <div class="signature">
            <code class="name">positionsPrev</code> <em class="type">Float32Array (Vec3)</em>
            
            
            
            
          </div>
          <span class="foundat"><a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L37"><code>src&#x2F;systems&#x2F;ParticleSystem.js:37</code></a></span>
          <p>Previous particle positions</p>
        
        </div>
        <a name="props_weights"></a>
        <div class="props item">
          <div class="signature">
            <code class="name">weights</code> <em class="type">Float32Array (Float)</em>
            
            
            
            
          </div>
          <span class="foundat"><a href="http://github.com/jpweeks/particulate-js/tree/master/src/systems/ParticleSystem.js#L53"><code>src&#x2F;systems&#x2F;ParticleSystem.js:53</code></a></span>
          <p>Particle mass</p>
        
        </div>
      </div>
  </div>
</div>
</div>
    </div>
    <div id="sidebar" class="yui3-u">
      <div id="modules" class="sidebox">
        <div class="hd">
          <h3 class="no-toc">Modules</h3>
        </div>
        <div class="bd">
          <ul>
              <li><a href="../modules/constraints.html">constraints</a></li>
              <li><a href="../modules/forces.html">forces</a></li>
              <li><a href="../modules/math.html">math</a></li>
              <li><a href="../modules/systems.html">systems</a></li>
              <li><a href="../modules/utils.html">utils</a></li>
          </ul>
        </div>
      </div>
      
      <div id="classes" class="sidebox">
        <div class="hd">
          <h3 class="no-toc">Classes</h3>
        </div>
        <div class="bd">
          <ul>
              <li><a href="../classes/AngleConstraint.html">AngleConstraint</a></li>
              <li><a href="../classes/AxisConstraint.html">AxisConstraint</a></li>
              <li><a href="../classes/BoundingPlaneConstraint.html">BoundingPlaneConstraint</a></li>
              <li><a href="../classes/BoxConstraint.html">BoxConstraint</a></li>
              <li><a href="../classes/Collection.html">Collection</a></li>
              <li><a href="../classes/Constraint.html">Constraint</a></li>
              <li><a href="../classes/DirectionalForce.html">DirectionalForce</a></li>
              <li><a href="../classes/DistanceConstraint.html">DistanceConstraint</a></li>
              <li><a href="../classes/Force.html">Force</a></li>
              <li><a href="../classes/Math.html">Math</a></li>
              <li><a href="../classes/ParticleSystem.html">ParticleSystem</a></li>
              <li><a href="../classes/Particulate.html">Particulate</a></li>
              <li><a href="../classes/PlaneConstraint.html">PlaneConstraint</a></li>
              <li><a href="../classes/PointConstraint.html">PointConstraint</a></li>
              <li><a href="../classes/PointForce.html">PointForce</a></li>
              <li><a href="../classes/Vec3.html">Vec3</a></li>
          </ul>
        </div>
      </div>
      
      <div id="methods-on-page" class="sidebox on-page">
        <div class="hd">
          <h3 class="no-toc">ParticleSystem Methods</h3>
        </div>
        <div class="bd">
          <ul>
              <li><a href="#methods_accumulateForces">accumulateForces
                <span class="flag access">private</span>
                
                
              </a></li>
              <li><a href="#methods_addConstraint">addConstraint
                
                
                
              </a></li>
              <li><a href="#methods_addForce">addForce
                
                
                
              </a></li>
              <li><a href="#methods_addPinConstraint">addPinConstraint
                
                
                
              </a></li>
              <li><a href="#methods_create">create
                
                <span class="flag static">static</span>
                
              </a></li>
              <li><a href="#methods_getAngle">getAngle
                
                
                
              </a></li>
              <li><a href="#methods_getDistance">getDistance
                
                
                
              </a></li>
              <li><a href="#methods_getPosition">getPosition
                
                
                
              </a></li>
              <li><a href="#methods_integrate">integrate
                <span class="flag access">private</span>
                
                
              </a></li>
              <li><a href="#methods_removeConstraint">removeConstraint
                
                
                
              </a></li>
              <li><a href="#methods_removeForce">removeForce
                
                
                
              </a></li>
              <li><a href="#methods_removePinConstraint">removePinConstraint
                
                
                
              </a></li>
              <li><a href="#methods_satisfyConstraintGroup">satisfyConstraintGroup
                <span class="flag access">private</span>
                
                
              </a></li>
              <li><a href="#methods_satisfyConstraints">satisfyConstraints
                <span class="flag access">private</span>
                
                
              </a></li>
              <li><a href="#methods_setPosition">setPosition
                
                
                
              </a></li>
              <li><a href="#methods_setWeight">setWeight
                
                
                
              </a></li>
              <li><a href="#methods_tick">tick
                
                
                
              </a></li>
          </ul>
        </div>
      </div>
      
      
      <div id="props-on-page" class="sidebox">
        <div class="hd">
          <h3 class="no-toc">ParticleSystem Properties</h3>
        </div>
        <div class="bd">
          <ul>
              <li><a href="#props__count">_count
                <span class="flag access">private</span>
                
                
              </a></li>
              <li><a href="#props__iterations">_iterations
                <span class="flag access">private</span>
                
                
              </a></li>
              <li><a href="#props_accumulatedForces">accumulatedForces
                
                
                
              </a></li>
              <li><a href="#props_positions">positions
                
                
                
              </a></li>
              <li><a href="#props_positionsPrev">positionsPrev
                
                
                
              </a></li>
              <li><a href="#props_weights">weights
                
                
                
              </a></li>
          </ul>
        </div>
      </div>
      
    </div>
  </div>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
<script src="../assets/js/tabs.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
