!function(){window.Test={assert:{}}}(),function(){!function(a){function b(a,b){var c,d,e=a.slice();for(c=0;c<e.length;c++)for(d=0;d<b.length;d++)if(e[c]===b[d]){e.splice(c,1),c--;break}return e}function c(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return c;return-1}function d(a){var b,c,e=E.is("array",a)?[]:{};for(b in a)P.call(a,b)&&(c=a[b],e[b]=c===Object(c)?d(c):c);return e}function e(b,c,d){for(var e in c)P.call(c,e)&&("constructor"===e&&b===a||(void 0===c[e]?delete b[e]:d&&"undefined"!=typeof b[e]||(b[e]=c[e])));return b}function f(a){if("undefined"==typeof a)return"undefined";if(null===a)return"null";var b=O.call(a).match(/^\[object\s(.*)\]$/),c=b&&b[1];switch(c){case"Number":return isNaN(a)?"nan":"number";case"String":case"Boolean":case"Array":case"Set":case"Map":case"Date":case"RegExp":case"Function":case"Symbol":return c.toLowerCase()}return"object"==typeof a?"object":void 0}function g(a,b){return E.objectType(b)===a}function h(a,b){b=void 0===b?4:b;var c,d,e;if(a.stack){if(c=a.stack.split("\n"),/^error$/i.test(c[0])&&c.shift(),L){for(d=[],e=b;e<c.length&&c[e].indexOf(L)===-1;e++)d.push(c[e]);if(d.length)return d.join("\n")}return c[b]}if(a.sourceURL){if(/qunit.js$/.test(a.sourceURL))return;return a.sourceURL+":"+a.line}}function i(a){var b=new Error;if(!b.stack)try{throw b}catch(c){b=c}return h(b,a)}function j(a){function b(a){var b=function(b){if("function"!==f(b))throw new Error("QUnit logging methods require a callback function as their first parameters.");Q.callbacks[a].push(b)};return R[a]=b,b}var c,d,e,g=["begin","done","log","testStart","testDone","moduleStart","moduleDone"];for(c=0,d=g.length;c<d;c++)e=g[c],"undefined"===f(Q.callbacks[e])&&(Q.callbacks[e]=[]),a[e]=b(e)}function k(a,b){var c,d,e;for(e=Q.callbacks[a],c=0,d=e.length;c<d;c++)e[c](b)}function l(){var b,c;for(b in R)E[b]!==R[b]&&(c=E[b],E[b]=R[b],E[b](c),a.console&&a.console.warn&&a.console.warn("QUnit."+b+" was replaced with a new value.\nPlease, check out the documentation on how to apply logging callbacks.\nReference: https://api.qunitjs.com/category/callbacks/"))}function m(){var a,b,c=[];if(!Q.started){for(Q.started=G(),l(),""===Q.modules[0].name&&0===Q.modules[0].tests.length&&Q.modules.shift(),a=0,b=Q.modules.length;a<b;a++)c.push({name:Q.modules[a].name,tests:Q.modules[a].tests});k("begin",{totalTests:s.count,modules:c})}Q.blocking=!1,n(!0)}function n(a){function b(){n(a)}var c=G();for(Q.depth=(Q.depth||0)+1;Q.queue.length&&!Q.blocking;){if(!(!K.setTimeout||Q.updateRate<=0||G()-c<Q.updateRate)){H(b,13);break}Q.current&&(Q.current.usedAsync=!1),Q.queue.shift()()}Q.depth--,!a||Q.blocking||Q.queue.length||0!==Q.depth||q()}function o(){Q.blocking=!0,Q.testTimeout&&K.setTimeout&&(I(Q.timeout),Q.timeout=H(function(){if(!Q.current)throw new Error("Test timed out");Q.current.semaphore=0,E.pushFailure("Test timed out",i(2)),p()},Q.testTimeout))}function p(){N=!0,K.setTimeout?H(function(){Q.current&&Q.current.semaphore>0||(Q.timeout&&I(Q.timeout),m())},13):m()}function q(){var a,b;Q.autorun=!0,Q.previousModule&&k("moduleDone",{name:Q.previousModule.name,tests:Q.previousModule.tests,failed:Q.moduleStats.bad,passed:Q.moduleStats.all-Q.moduleStats.bad,total:Q.moduleStats.all,runtime:G()-Q.moduleStats.started}),delete Q.previousModule,a=G()-Q.started,b=Q.stats.all-Q.stats.bad,k("done",{failed:Q.stats.bad,passed:b,total:Q.stats.all,runtime:a})}function r(a,b){return void 0===a.testEnvironment&&(a.testEnvironment={}),function(c){a.testEnvironment[b]=c}}function s(a){var b,c;for(++s.count,e(this,a),this.assertions=[],this.semaphore=0,this.usedAsync=!1,this.module=Q.currentModule,this.stack=i(3),b=0,c=this.module.tests;b<c.length;b++)this.module.tests[b].name===this.testName&&(this.testName+=" ");this.testId=t(this.module.name,this.testName),this.module.tests.push({name:this.testName,testId:this.testId}),a.skip?(this.callback=function(){},this.async=!1,this.expected=0):this.assert=new C(this)}function t(a,b){for(var c,d=0,e=0,f=a+""+b,g=f.length;d<g;d++)e=(e<<5)-e+f.charCodeAt(d),e|=0;return c=(4294967296+e).toString(16),c.length<8&&(c="0000000"+c),c.slice(-8)}function u(a,b,c){var d,e=!b;if("array"!==E.objectType(a))b?Q.queue.splice(U++,0,a):c?(S||(S=v(c)),d=Math.floor(S()*(Q.queue.length-U+1)),Q.queue.splice(U+d,0,a)):Q.queue.push(a),Q.autorun&&!Q.blocking&&n(e);else for(;a.length;)u(a.shift())}function v(a){var b=parseInt(t(a),16)||-1;return function(){return b^=b<<13,b^=b>>>17,b^=b<<5,b<0&&(b+=4294967296),b/4294967296}}function w(){if(Q.pollution=[],Q.noglobals)for(var b in a)if(P.call(a,b)){if(/^qunit-test-output/.test(b))continue;Q.pollution.push(b)}}function x(){var a,c,d=Q.pollution;w(),a=b(Q.pollution,d),a.length>0&&E.pushFailure("Introduced global variable(s): "+a.join(", ")),c=b(d,Q.pollution),c.length>0&&E.pushFailure("Deleted global variable(s): "+c.join(", "))}function y(a,b,c){2===arguments.length&&(c=b,b=null),E.test(a,b,c,!0)}function z(a,b,c,d){if(!T){var e;2===arguments.length&&(c=b,b=null),e=new s({testName:a,expected:b,async:d,callback:c}),e.queue()}}function A(a){if(!T){var b=new s({testName:a,skip:!0});b.queue()}}function B(a,b,c,d){var e;T||(E.config.queue.length=0,T=!0,2===arguments.length&&(c=b,b=null),e=new s({testName:a,expected:b,async:d,callback:c}),e.queue())}function C(a){this.test=a}function D(a){var b,c,d=a.toString();return"[object"===d.substring(0,7)?(b=a.name?a.name.toString():"Error",c=a.message?a.message.toString():"",b&&c?b+": "+c:b?b:c?c:"Error"):d}var E={},F=a.Date,G=F.now||function(){return(new F).getTime()},H=a.setTimeout,I=a.clearTimeout,J=a.window,K={document:J&&void 0!==J.document,setTimeout:void 0!==H,sessionStorage:function(){var a="qunit-test-string";try{return sessionStorage.setItem(a,a),sessionStorage.removeItem(a),!0}catch(b){return!1}}()},L=(i(0)||"").replace(/(:\d+)+\)?/,"").replace(/.+\//,""),M=!1,N=!1,O=Object.prototype.toString,P=Object.prototype.hasOwnProperty,Q={queue:[],blocking:!0,reorder:!0,altertitle:!0,collapse:!0,scrolltop:!0,maxDepth:5,requireExpects:!1,urlConfig:[],modules:[],moduleStack:[],currentModule:{name:"",tests:[]},callbacks:{}};Q.modules.push(Q.currentModule);var R={};!function(){if(K.document){var a=J.onerror;J.onerror=function(b,c,d){var f=!1;if(a&&(f=a(b,c,d)),f!==!0){if(E.config.current){if(E.config.current.ignoreGlobalErrors)return!0;E.pushFailure(b,c+":"+d)}else E.test("global failure",e(function(){E.pushFailure(b,c+":"+d)},{validTest:!0}));return!1}return f}}}(),E.isLocal=!(K.document&&"file:"!==J.location.protocol),E.version="1.23.1",e(E,{module:function(a,b,c){function d(){var c=Q.moduleStack.length?Q.moduleStack.slice(-1)[0]:null,d=null!==c?[c.name,a].join(" > "):a,f={name:d,parentModule:c,tests:[],moduleId:t(d)},g={};return c&&(e(g,c.testEnvironment),delete g.beforeEach,delete g.afterEach),e(g,b),f.testEnvironment=g,Q.modules.push(f),f}function g(a){Q.currentModule=a}var h,i,j=Q.currentModule;2===arguments.length&&"function"===f(b)&&(c=b,b=void 0),b&&b.setup&&(b.beforeEach=b.setup,delete b.setup),b&&b.teardown&&(b.afterEach=b.teardown,delete b.teardown),h=d(),i={beforeEach:r(h,"beforeEach"),afterEach:r(h,"afterEach")},"function"===f(c)&&(Q.moduleStack.push(h),g(h),c.call(h.testEnvironment,i),Q.moduleStack.pop(),h=h.parentModule||j),g(h)},asyncTest:y,test:z,skip:A,only:B,start:function(a){var b=M;if(Q.current){if(Q.current.semaphore-=a||1,isNaN(Q.current.semaphore))return Q.current.semaphore=0,void E.pushFailure("Called start() with a non-numeric decrement.",i(2));if(Q.current.semaphore>0)return;if(Q.current.semaphore<0)return Q.current.semaphore=0,void E.pushFailure("Called start() while already started (test's semaphore was 0 already)",i(2))}else{if(M=!0,N)throw new Error("Called start() outside of a test context while already started");if(b||a>1)throw new Error("Called start() outside of a test context too many times");if(Q.autostart)throw new Error("Called start() outside of a test context when QUnit.config.autostart was true");if(!Q.pageLoaded)return void(Q.autostart=!0)}p()},stop:function(a){if(!Q.current)throw new Error("Called stop() outside of a test context");Q.current.semaphore+=a||1,o()},config:Q,is:g,objectType:f,extend:e,load:function(){Q.pageLoaded=!0,e(Q,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:0,updateRate:1e3,autostart:!0,filter:""},!0),Q.blocking=!1,Q.autostart&&p()},stack:function(a){return a=(a||0)+2,i(a)}}),j(E);var S,T=!1,U=0;s.count=0,s.prototype={before:function(){this.module===Q.previousModule&&P.call(Q,"previousModule")||(P.call(Q,"previousModule")&&k("moduleDone",{name:Q.previousModule.name,tests:Q.previousModule.tests,failed:Q.moduleStats.bad,passed:Q.moduleStats.all-Q.moduleStats.bad,total:Q.moduleStats.all,runtime:G()-Q.moduleStats.started}),Q.previousModule=this.module,Q.moduleStats={all:0,bad:0,started:G()},k("moduleStart",{name:this.module.name,tests:this.module.tests})),Q.current=this,this.module.testEnvironment&&(delete this.module.testEnvironment.beforeEach,delete this.module.testEnvironment.afterEach),this.testEnvironment=e({},this.module.testEnvironment),this.started=G(),k("testStart",{name:this.testName,module:this.module.name,testId:this.testId}),Q.pollution||w()},run:function(){function a(a){b=a.callback.call(a.testEnvironment,a.assert),a.resolvePromise(b)}var b;if(Q.current=this,this.async&&E.stop(),this.callbackStarted=G(),Q.notrycatch)return void a(this);try{a(this)}catch(c){this.pushFailure("Died on test #"+(this.assertions.length+1)+" "+this.stack+": "+(c.message||c),h(c,0)),w(),Q.blocking&&E.start()}},after:function(){x()},queueHook:function(a,b){var c,d=this;return function(){function e(){c=a.call(d.testEnvironment,d.assert),d.resolvePromise(c,b)}if(Q.current=d,Q.notrycatch)return void e();try{e()}catch(f){d.pushFailure(b+" failed on "+d.testName+": "+(f.message||f),h(f,0))}}},hooks:function(a){function b(d,e){e.parentModule&&b(d,e.parentModule),e.testEnvironment&&"function"===E.objectType(e.testEnvironment[a])&&c.push(d.queueHook(e.testEnvironment[a],a))}var c=[];return this.skip||b(this,this.module),c},finish:function(){Q.current=this,Q.requireExpects&&null===this.expected?this.pushFailure("Expected number of assertions to be defined, but expect() was not called.",this.stack):null!==this.expected&&this.expected!==this.assertions.length?this.pushFailure("Expected "+this.expected+" assertions, but "+this.assertions.length+" were run",this.stack):null!==this.expected||this.assertions.length||this.pushFailure("Expected at least one assertion, but none were run - call expect(0) to accept zero assertions.",this.stack);var a,b=0;for(this.runtime=G()-this.started,Q.stats.all+=this.assertions.length,Q.moduleStats.all+=this.assertions.length,a=0;a<this.assertions.length;a++)this.assertions[a].result||(b++,Q.stats.bad++,Q.moduleStats.bad++);k("testDone",{name:this.testName,module:this.module.name,skipped:!!this.skip,failed:b,passed:this.assertions.length-b,total:this.assertions.length,runtime:this.runtime,assertions:this.assertions,testId:this.testId,source:this.stack,duration:this.runtime}),E.reset(),Q.current=void 0},queue:function(){function a(){u([function(){c.before()},c.hooks("beforeEach"),function(){c.run()},c.hooks("afterEach").reverse(),function(){c.after()},function(){c.finish()}])}var b,c=this;if(this.valid())return b=E.config.reorder&&K.sessionStorage&&+sessionStorage.getItem("qunit-test-"+this.module.name+"-"+this.testName),u(a,b,Q.seed)},pushResult:function(a){var b,c={module:this.module.name,name:this.testName,result:a.result,message:a.message,actual:a.actual,expected:a.expected,testId:this.testId,negative:a.negative||!1,runtime:G()-this.started};a.result||(b=i(),b&&(c.source=b)),k("log",c),this.assertions.push({result:!!a.result,message:a.message})},pushFailure:function(a,b,c){if(!(this instanceof s))throw new Error("pushFailure() assertion outside test context, was "+i(2));var d={module:this.module.name,name:this.testName,result:!1,message:a||"error",actual:c||null,testId:this.testId,runtime:G()-this.started};b&&(d.source=b),k("log",d),this.assertions.push({result:!1,message:a})},resolvePromise:function(a,b){var c,d,e=this;null!=a&&(c=a.then,"function"===E.objectType(c)&&(E.stop(),c.call(a,function(){E.start()},function(a){d="Promise rejected "+(b?b.replace(/Each$/,""):"during")+" "+e.testName+": "+(a.message||a),e.pushFailure(d,h(a,0)),w(),E.start()})))},valid:function(){function a(b){var c=b.name?b.name.toLowerCase():null;return c===f||!!b.parentModule&&a(b.parentModule)}function b(a){return c(a.moduleId,Q.moduleId)>-1||a.parentModule&&b(a.parentModule)}var d=Q.filter,e=/^(!?)\/([\w\W]*)\/(i?$)/.exec(d),f=Q.module&&Q.module.toLowerCase(),g=this.module.name+": "+this.testName;return!(!this.callback||!this.callback.validTest)||!(Q.moduleId&&Q.moduleId.length>0&&!b(this.module))&&(!(Q.testId&&Q.testId.length>0&&c(this.testId,Q.testId)<0)&&(!(f&&!a(this.module))&&(!d||(e?this.regexFilter(!!e[1],e[2],e[3],g):this.stringFilter(d,g)))))},regexFilter:function(a,b,c,d){var e=new RegExp(b,c),f=e.test(d);return f!==a},stringFilter:function(a,b){a=a.toLowerCase(),b=b.toLowerCase();var c="!"!==a.charAt(0);return c||(a=a.slice(1)),b.indexOf(a)!==-1?c:!c}},E.reset=function(){if(K.document){var a=K.document&&document.getElementById&&document.getElementById("qunit-fixture");a&&(a.innerHTML=Q.fixture)}},E.pushFailure=function(){if(!E.config.current)throw new Error("pushFailure() assertion outside test context, in "+i(2));var a=E.config.current;return a.pushFailure.apply(a,arguments)},E.assert=C.prototype={expect:function(a){return 1!==arguments.length?this.test.expected:void(this.test.expected=a)},async:function(a){var b=this.test,c=!1,d=a;return"undefined"==typeof d&&(d=1),b.semaphore+=1,b.usedAsync=!0,o(),function(){return c?void b.pushFailure("Too many calls to the `assert.async` callback",i(2)):(d-=1,void(d>0||(b.semaphore-=1,c=!0,p())))}},push:function(a,b,c,d,e){var f=this instanceof C?this:E.config.current.assert;return f.pushResult({result:a,actual:b,expected:c,message:d,negative:e})},pushResult:function(a){var b=this,c=b instanceof C&&b.test||E.config.current;if(!c)throw new Error("assertion outside test context, in "+i(2));return c.usedAsync===!0&&0===c.semaphore&&c.pushFailure("Assertion after the final `assert.async` was resolved",i(2)),b instanceof C||(b=c.assert),b.test.pushResult(a)},ok:function(a,b){b=b||(a?"okay":"failed, expected argument to be truthy, was: "+E.dump.parse(a)),this.pushResult({result:!!a,actual:a,expected:!0,message:b})},notOk:function(a,b){b=b||(a?"failed, expected argument to be falsy, was: "+E.dump.parse(a):"okay"),this.pushResult({result:!a,actual:a,expected:!1,message:b})},equal:function(a,b,c){this.pushResult({result:b==a,actual:a,expected:b,message:c})},notEqual:function(a,b,c){this.pushResult({result:b!=a,actual:a,expected:b,message:c,negative:!0})},propEqual:function(a,b,c){a=d(a),b=d(b),this.pushResult({result:E.equiv(a,b),actual:a,expected:b,message:c})},notPropEqual:function(a,b,c){a=d(a),b=d(b),this.pushResult({result:!E.equiv(a,b),actual:a,expected:b,message:c,negative:!0})},deepEqual:function(a,b,c){this.pushResult({result:E.equiv(a,b),actual:a,expected:b,message:c})},notDeepEqual:function(a,b,c){this.pushResult({result:!E.equiv(a,b),actual:a,expected:b,message:c,negative:!0})},strictEqual:function(a,b,c){this.pushResult({result:b===a,actual:a,expected:b,message:c})},notStrictEqual:function(a,b,c){this.pushResult({result:b!==a,actual:a,expected:b,message:c,negative:!0})},"throws":function(a,b,c){var d,e,f=b,g=!1,h=this instanceof C&&this.test||E.config.current;null==c&&"string"==typeof b&&(c=b,b=null),h.ignoreGlobalErrors=!0;try{a.call(h.testEnvironment)}catch(i){d=i}h.ignoreGlobalErrors=!1,d&&(e=E.objectType(b),b?"regexp"===e?g=b.test(D(d)):"string"===e?g=b===D(d):"function"===e&&d instanceof b?g=!0:"object"===e?g=d instanceof b.constructor&&d.name===b.name&&d.message===b.message:"function"===e&&b.call({},d)===!0&&(f=null,g=!0):(g=!0,f=null)),h.assert.pushResult({result:g,actual:d,expected:f,message:c})}},function(){C.prototype.raises=C.prototype["throws"]}(),E.equiv=function(){function a(a,b){return"object"==typeof b&&(b=b.valueOf()),"object"==typeof a&&(a=a.valueOf()),b===a}function b(a,b){var c=i(a),d=i(b);return a.constructor===b.constructor||(c&&null===c.constructor&&(c=null),d&&null===d.constructor&&(d=null),null===c&&d===Object.prototype||null===d&&c===Object.prototype)}function c(a){return"flags"in a?a.flags:a.toString().match(/[gimuy]*$/)[0]}function d(a,b){var c=E.objectType(a);return E.objectType(b)===c&&j[c](b,a)}function e(a,b){return arguments.length<2||(a===b||d(a,b))&&(2===arguments.length||e.apply(this,[].slice.call(arguments,1)))}var f=[],g=[],h=[],i=Object.getPrototypeOf||function(a){return a.__proto__},j={string:a,"boolean":a,number:a,"null":a,undefined:a,symbol:a,date:a,nan:function(){return!0},regexp:function(a,b){return b.source===a.source&&c(b)===c(a)},"function":function(){var a=f[f.length-1];return a!==Object&&"undefined"!=typeof a},array:function(a,b){var c,d,f,i,j,k;if(f=b.length,f!==a.length)return!1;for(g.push(b),h.push(a),c=0;c<f;c++){for(i=!1,d=0;d<g.length;d++)if(j=g[d]===b[c],k=h[d]===a[c],j||k){if(!(b[c]===a[c]||j&&k))return g.pop(),h.pop(),!1;i=!0}if(!i&&!e(b[c],a[c]))return g.pop(),h.pop(),!1}return g.pop(),h.pop(),!0},set:function(a,b){var c,d=!0;return b.size===a.size&&(b.forEach(function(b){c=!1,a.forEach(function(a){e(a,b)&&(c=!0)}),c||(d=!1)}),d)},map:function(a,b){var c,d=!0;return b.size===a.size&&(b.forEach(function(b,f){c=!1,a.forEach(function(a,d){e([a,d],[b,f])&&(c=!0)}),c||(d=!1)}),d)},object:function(a,c){var d,i,j,k,l,m=!0,n=[],o=[];if(b(c,a)===!1)return!1;f.push(c.constructor),g.push(c),h.push(a);for(d in c){for(j=!1,i=0;i<g.length;i++)if(k=g[i]===c[d],l=h[i]===a[d],k||l){if(!(c[d]===a[d]||k&&l)){m=!1;break}j=!0}if(n.push(d),!j&&!e(c[d],a[d])){m=!1;break}}g.pop(),h.pop(),f.pop();for(d in a)o.push(d);return m&&e(n.sort(),o.sort())}};return e}(),E.dump=function(){function a(a){return'"'+a.toString().replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function b(a){return a+""}function d(a,b,c){var d=g.separator(),e=g.indent(),f=g.indent(1);return b.join&&(b=b.join(","+d+f)),b?[a,f+b,e+c].join(d):a+c}function e(a,b){var c=a.length,e=new Array(c);if(g.maxDepth&&g.depth>g.maxDepth)return"[object Array]";for(this.up();c--;)e[c]=this.parse(a[c],void 0,b);return this.down(),d("[",e,"]")}var f=/^function (\w+)/,g={parse:function(a,b,d){d=d||[];var e,f,g,h=c(a,d);return h!==-1?"recursion("+(h-d.length)+")":(b=b||this.typeOf(a),f=this.parsers[b],g=typeof f,"function"===g?(d.push(a),e=f.call(this,a,d),d.pop(),e):"string"===g?f:this.parsers.error)},typeOf:function(a){var b;return b=null===a?"null":"undefined"==typeof a?"undefined":E.is("regexp",a)?"regexp":E.is("date",a)?"date":E.is("function",a)?"function":void 0!==a.setInterval&&void 0!==a.document&&void 0===a.nodeType?"window":9===a.nodeType?"document":a.nodeType?"node":"[object Array]"===O.call(a)||"number"==typeof a.length&&void 0!==a.item&&(a.length?a.item(0)===a[0]:null===a.item(0)&&void 0===a[0])?"array":a.constructor===Error.prototype.constructor?"error":typeof a},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&#160;":" "},indent:function(a){if(!this.multiline)return"";var b=this.indentChar;return this.HTML&&(b=b.replace(/\t/g,"   ").replace(/ /g,"&#160;")),new Array(this.depth+(a||0)).join(b)},up:function(a){this.depth+=a||1},down:function(a){this.depth-=a||1},setParser:function(a,b){this.parsers[a]=b},quote:a,literal:b,join:d,depth:1,maxDepth:E.config.maxDepth,parsers:{window:"[Window]",document:"[Document]",error:function(a){return'Error("'+a.message+'")'},unknown:"[Unknown]","null":"null",undefined:"undefined","function":function(a){var b="function",c="name"in a?a.name:(f.exec(a)||[])[1];return c&&(b+=" "+c),b+="(",b=[b,g.parse(a,"functionArgs"),"){"].join(""),d(b,g.parse(a,"functionCode"),"}")},array:e,nodelist:e,arguments:e,object:function(a,b){var e,f,h,i,j,k=[];if(g.maxDepth&&g.depth>g.maxDepth)return"[object Object]";g.up(),e=[];for(f in a)e.push(f);j=["message","name"];for(i in j)f=j[i],f in a&&c(f,e)<0&&e.push(f);for(e.sort(),i=0;i<e.length;i++)f=e[i],h=a[f],k.push(g.parse(f,"key")+": "+g.parse(h,void 0,b));return g.down(),d("{",k,"}")},node:function(a){var b,c,d,e=g.HTML?"&lt;":"<",f=g.HTML?"&gt;":">",h=a.nodeName.toLowerCase(),i=e+h,j=a.attributes;if(j)for(c=0,b=j.length;c<b;c++)d=j[c].nodeValue,d&&"inherit"!==d&&(i+=" "+j[c].nodeName+"="+g.parse(d,"attribute"));return i+=f,3!==a.nodeType&&4!==a.nodeType||(i+=a.nodeValue),i+e+"/"+h+f},functionArgs:function(a){var b,c=a.length;if(!c)return"";for(b=new Array(c);c--;)b[c]=String.fromCharCode(97+c);return" "+b.join(", ")+" "},key:a,functionCode:"[code]",attribute:a,string:a,date:a,regexp:b,number:b,"boolean":b},HTML:!1,indentChar:"  ",multiline:!0};return g}(),E.jsDump=E.dump,function(){function a(a){return function(){var b=new C(E.config.current);a.apply(b,arguments)}}var b,c=C.prototype;for(b in c)E[b]=a(c[b])}(),K.document&&(!function(){var a,b,c=["test","module","expect","asyncTest","start","stop","ok","notOk","equal","notEqual","propEqual","notPropEqual","deepEqual","notDeepEqual","strictEqual","notStrictEqual","throws","raises"];for(a=0,b=c.length;a<b;a++)J[c[a]]=E[c[a]]}(),J.QUnit=E),"undefined"!=typeof module&&module&&module.exports&&(module.exports=E,module.exports.QUnit=E),"undefined"!=typeof exports&&exports&&(exports.QUnit=E),"function"==typeof define&&define.amd&&(define(function(){return E}),E.config.autostart=!1)}(function(){return this}()),function(){function a(){var a,b,c,d,e={},f=D.search.slice(1).split("&"),g=f.length;for(a=0;a<g;a++)f[a]&&(b=f[a].split("="),c=decodeURIComponent(b[0]),d=1===b.length||decodeURIComponent(b.slice(1).join("=")),e[c]?e[c]=[].concat(e[c],d):e[c]=d);return e}function b(a){return a?(a+="",a.replace(/['"<>&]/g,function(a){switch(a){case"'":return"&#039;";case'"':return"&quot;";case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;"}})):""}function c(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,function(){var b=window.event;b.target||(b.target=b.srcElement||G),c.call(a,b)})}function d(a,b,d){for(var e=a.length;e--;)c(a[e],b,d)}function e(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>=0}function f(a,b){e(a,b)||(a.className+=(a.className?" ":"")+b)}function g(a,b,c){c||"undefined"==typeof c&&!e(a,b)?f(a,b):h(a,b)}function h(a,b){for(var c=" "+a.className+" ";c.indexOf(" "+b+" ")>=0;)c=c.replace(" "+b+" "," ");a.className="function"==typeof c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function i(a){return G.getElementById&&G.getElementById(a)}function j(){var a,c,d,e,f,g=!1,h=F.urlConfig,i="";for(a=0;a<h.length;a++)if(d=F.urlConfig[a],"string"==typeof d&&(d={id:d,label:d}),e=b(d.id),f=b(d.tooltip),d.value&&"string"!=typeof d.value){if(i+="<label for='qunit-urlconfig-"+e+"' title='"+f+"'>"+d.label+": </label><select id='qunit-urlconfig-"+e+"' name='"+e+"' title='"+f+"'><option></option>",QUnit.is("array",d.value))for(c=0;c<d.value.length;c++)e=b(d.value[c]),i+="<option value='"+e+"'"+(F[d.id]===d.value[c]?(g=!0)&&" selected='selected'":"")+">"+e+"</option>";else for(c in d.value)I.call(d.value,c)&&(i+="<option value='"+b(c)+"'"+(F[d.id]===c?(g=!0)&&" selected='selected'":"")+">"+b(d.value[c])+"</option>");F[d.id]&&!g&&(e=b(F[d.id]),i+="<option value='"+e+"' selected='selected' disabled='disabled'>"+e+"</option>"),i+="</select>"}else i+="<input id='qunit-urlconfig-"+e+"' name='"+e+"' type='checkbox'"+(d.value?" value='"+b(d.value)+"'":"")+(F[d.id]?" checked='checked'":"")+" title='"+f+"' /><label for='qunit-urlconfig-"+e+"' title='"+f+"'>"+d.label+"</label>";return i}function k(){var a,b,c,d=this,e={};b="selectedIndex"in d?d.options[d.selectedIndex].value||void 0:d.checked?d.defaultValue||!0:void 0,e[d.name]=b,a=l(e),"hidepassed"===d.name&&"replaceState"in window.history?(QUnit.urlParams[d.name]=b,F[d.name]=b||!1,c=i("qunit-tests"),c&&g(c,"hidepass",b||!1),window.history.replaceState(null,"",a)):window.location=a}function l(a){var b,c,d,e="?",f=window.location;a=QUnit.extend(QUnit.extend({},QUnit.urlParams),a);for(b in a)if(I.call(a,b)&&void 0!==a[b])for(c=[].concat(a[b]),d=0;d<c.length;d++)e+=encodeURIComponent(b),c[d]!==!0&&(e+="="+encodeURIComponent(c[d])),e+="&";return f.protocol+"//"+f.host+f.pathname+e.slice(0,-1)}function m(){var a,b=i("qunit-modulefilter"),c=i("qunit-filter-input").value;a=b?decodeURIComponent(b.options[b.selectedIndex].value):void 0,window.location=l({module:""===a?void 0:a,filter:""===c?void 0:c,moduleId:void 0,testId:void 0})}function n(){var a=G.createElement("span");return a.innerHTML=j(),f(a,"qunit-url-config"),d(a.getElementsByTagName("input"),"click",k),d(a.getElementsByTagName("select"),"change",k),a}function o(){var a=G.createElement("form"),b=G.createElement("label"),d=G.createElement("input"),e=G.createElement("button");return f(a,"qunit-filter"),b.innerHTML="Filter: ",d.type="text",d.value=F.filter||"",d.name="filter",d.id="qunit-filter-input",e.innerHTML="Go",b.appendChild(d),a.appendChild(b),a.appendChild(e),c(a,"submit",function(a){return m(),a&&a.preventDefault&&a.preventDefault(),!1}),a}function p(){var a,c="";if(!L.length)return!1;for(c+="<label for='qunit-modulefilter'>Module: </label><select id='qunit-modulefilter' name='modulefilter'><option value='' "+(void 0===QUnit.urlParams.module?"selected='selected'":"")+">< All Modules ></option>",a=0;a<L.length;a++)c+="<option value='"+b(encodeURIComponent(L[a]))+"' "+(QUnit.urlParams.module===L[a]?"selected='selected'":"")+">"+b(L[a])+"</option>";return c+="</select>"}function q(){var a=i("qunit-testrunner-toolbar"),b=G.createElement("span"),d=p();return!(!a||!d)&&(b.setAttribute("id","qunit-modulefilter-container"),b.innerHTML=d,c(b.lastChild,"change",m),void a.appendChild(b))}function r(){var a=i("qunit-testrunner-toolbar");a&&(a.appendChild(n()),a.appendChild(o()),q())}function s(){var a=i("qunit-header");a&&(a.innerHTML="<a href='"+b(J)+"'>"+a.innerHTML+"</a> ")}function t(){var a=i("qunit-banner");a&&(a.className="")}function u(){var a=i("qunit-tests"),b=i("qunit-testresult");b&&b.parentNode.removeChild(b),a&&(a.innerHTML="",b=G.createElement("p"),b.id="qunit-testresult",b.className="result",a.parentNode.insertBefore(b,a),b.innerHTML="Running...<br />&#160;")}function v(){var a=i("qunit-fixture");a&&(F.fixture=a.innerHTML)}function w(){var a=QUnit.config.testId;return!a||a.length<=0?"":"<div id='qunit-filteredTest'>Rerunning selected tests: "+b(a.join(", "))+" <a id='qunit-clearFilter' href='"+b(J)+"'>Run all tests</a></div>"}function x(){var a=i("qunit-userAgent");a&&(a.innerHTML="",a.appendChild(G.createTextNode("QUnit "+QUnit.version+"; "+navigator.userAgent)))}function y(){var a=i("qunit");a&&(a.innerHTML="<h1 id='qunit-header'>"+b(G.title)+"</h1><h2 id='qunit-banner'></h2><div id='qunit-testrunner-toolbar'></div>"+w()+"<h2 id='qunit-userAgent'></h2><ol id='qunit-tests'></ol>"),s(),t(),u(),x(),r()}function z(a){var b,c,d,e,f,g;for(b=0,c=a.length;b<c;b++)for(g=a[b],d=0,e=g.tests.length;d<e;d++)f=g.tests[d],A(f.name,f.testId,g.name)}function A(a,b,c){var d,e,f,g,h=i("qunit-tests");h&&(d=G.createElement("strong"),d.innerHTML=B(a,c),e=G.createElement("a"),e.innerHTML="Rerun",e.href=l({testId:b}),f=G.createElement("li"),f.appendChild(d),f.appendChild(e),f.id="qunit-test-output-"+b,g=G.createElement("ol"),g.className="qunit-assert-list",f.appendChild(g),h.appendChild(f))}function B(a,c){var d="";return c&&(d="<span class='module-name'>"+b(c)+"</span>: "),d+="<span class='test-name'>"+b(a)+"</span>"}function C(a){return a.replace(/<\/?[^>]+(>|$)/g,"").replace(/\&quot;/g,"").replace(/\s+/g,"")}var D="undefined"!=typeof window&&window.location;if(D){var E=a();if(QUnit.urlParams=E,QUnit.config.moduleId=[].concat(E.moduleId||[]),QUnit.config.testId=[].concat(E.testId||[]),QUnit.config.module=E.module,QUnit.config.filter=E.filter,E.seed===!0?QUnit.config.seed=Math.random().toString(36).slice(2):E.seed&&(QUnit.config.seed=E.seed),QUnit.config.urlConfig.push({id:"hidepassed",label:"Hide passed tests",tooltip:"Only show tests and assertions that fail. Stored as query-strings."},{id:"noglobals",label:"Check for Globals",tooltip:"Enabling this will test if any test introduces new properties on the global object (`window` in Browsers). Stored as query-strings."},{id:"notrycatch",label:"No try-catch",tooltip:"Enabling this will run tests outside of a try-catch block. Makes debugging exceptions in IE reasonable. Stored as query-strings."}),QUnit.begin(function(){var a,b,c=QUnit.config.urlConfig;for(a=0;a<c.length;a++)b=QUnit.config.urlConfig[a],"string"!=typeof b&&(b=b.id),void 0===QUnit.config[b]&&(QUnit.config[b]=E[b])}),"undefined"!=typeof window&&window.document){QUnit.init=function(){var a=QUnit.config;a.stats={all:0,bad:0},a.moduleStats={all:0,bad:0},a.started=0,a.updateRate=1e3,a.blocking=!1,a.autostart=!0,a.autorun=!1,a.filter="",a.queue=[],y()};var F=QUnit.config,G=window.document,H=!1,I=Object.prototype.hasOwnProperty,J=l({filter:void 0,module:void 0,moduleId:void 0,testId:void 0}),K={sessionStorage:function(){var a="qunit-test-string";try{return sessionStorage.setItem(a,a),sessionStorage.removeItem(a),!0}catch(b){return!1}}()},L=[];QUnit.begin(function(a){var b,c,d;for(b=0;b<a.modules.length;b++)c=a.modules[b],c.name&&L.push(c.name);L.sort(function(a,b){return a.localeCompare(b)}),v(),y(),z(a.modules),d=i("qunit-tests"),d&&F.hidepassed&&f(d,"hidepass")}),QUnit.done(function(a){var b,c,d=i("qunit-banner"),e=i("qunit-tests"),f=["Tests completed in ",a.runtime," milliseconds.<br />","<span class='passed'>",a.passed,"</span> assertions of <span class='total'>",a.total,"</span> passed, <span class='failed'>",a.failed,"</span> failed."].join("");if(d&&(d.className=a.failed?"qunit-fail":"qunit-pass"),e&&(i("qunit-testresult").innerHTML=f),F.altertitle&&G.title&&(G.title=[a.failed?"✖":"✔",G.title.replace(/^[\u2714\u2716] /i,"")].join(" ")),F.reorder&&K.sessionStorage&&0===a.failed)for(b=0;b<sessionStorage.length;b++)c=sessionStorage.key(b++),0===c.indexOf("qunit-test-")&&sessionStorage.removeItem(c);F.scrolltop&&window.scrollTo&&window.scrollTo(0,0)}),QUnit.testStart(function(a){var b,c,d;c=i("qunit-test-output-"+a.testId),c?c.className="running":A(a.name,a.testId,a.module),b=i("qunit-testresult"),b&&(d=QUnit.config.reorder&&K.sessionStorage&&+sessionStorage.getItem("qunit-test-"+a.module+"-"+a.name),b.innerHTML=(d?"Rerunning previously failed test: <br />":"Running: <br />")+B(a.name,a.module))}),QUnit.log(function(a){var c,d,e,f,g,h,j=!1,k=i("qunit-test-output-"+a.testId);k&&(e=b(a.message)||(a.result?"okay":"failed"),e="<span class='test-message'>"+e+"</span>",e+="<span class='runtime'>@ "+a.runtime+" ms</span>",!a.result&&I.call(a,"expected")?(f=a.negative?"NOT "+QUnit.dump.parse(a.expected):QUnit.dump.parse(a.expected),g=QUnit.dump.parse(a.actual),e+="<table><tr class='test-expected'><th>Expected: </th><td><pre>"+b(f)+"</pre></td></tr>",g!==f?(e+="<tr class='test-actual'><th>Result: </th><td><pre>"+b(g)+"</pre></td></tr>",/^(true|false)$/.test(g)||/^(true|false)$/.test(f)||(h=QUnit.diff(f,g),j=C(h).length!==C(f).length+C(g).length),j&&(e+="<tr class='test-diff'><th>Diff: </th><td><pre>"+h+"</pre></td></tr>")):e+=f.indexOf("[object Array]")!==-1||f.indexOf("[object Object]")!==-1?"<tr class='test-message'><th>Message: </th><td>Diff suppressed as the depth of object is more than current max depth ("+QUnit.config.maxDepth+").<p>Hint: Use <code>QUnit.dump.maxDepth</code> to  run with a higher max depth or <a href='"+b(l({maxDepth:-1}))+"'>Rerun</a> without max depth.</p></td></tr>":"<tr class='test-message'><th>Message: </th><td>Diff suppressed as the expected and actual results have an equivalent serialization</td></tr>",a.source&&(e+="<tr class='test-source'><th>Source: </th><td><pre>"+b(a.source)+"</pre></td></tr>"),e+="</table>"):!a.result&&a.source&&(e+="<table><tr class='test-source'><th>Source: </th><td><pre>"+b(a.source)+"</pre></td></tr></table>"),
c=k.getElementsByTagName("ol")[0],d=G.createElement("li"),d.className=a.result?"pass":"fail",d.innerHTML=e,c.appendChild(d))}),QUnit.testDone(function(a){var b,d,e,h,j,k,l,m,n,o=i("qunit-tests");o&&(e=i("qunit-test-output-"+a.testId),h=e.getElementsByTagName("ol")[0],j=a.passed,k=a.failed,F.reorder&&K.sessionStorage&&(k?sessionStorage.setItem("qunit-test-"+a.module+"-"+a.name,k):sessionStorage.removeItem("qunit-test-"+a.module+"-"+a.name)),0===k?f(h,"qunit-collapsed"):k&&F.collapse&&!H?H=!0:f(h,"qunit-collapsed"),b=e.firstChild,l=k?"<b class='failed'>"+k+"</b>, <b class='passed'>"+j+"</b>, ":"",b.innerHTML+=" <b class='counts'>("+l+a.assertions.length+")</b>",a.skipped?(e.className="skipped",m=G.createElement("em"),m.className="qunit-skipped-label",m.innerHTML="skipped",e.insertBefore(m,b)):(c(b,"click",function(){g(h,"qunit-collapsed")}),e.className=k?"fail":"pass",d=G.createElement("span"),d.className="runtime",d.innerHTML=a.runtime+" ms",e.insertBefore(d,h)),a.source&&(n=G.createElement("p"),n.innerHTML="<strong>Source: </strong>"+a.source,f(n,"qunit-source"),0===k&&f(n,"qunit-collapsed"),c(b,"click",function(){g(n,"qunit-collapsed")}),e.appendChild(n)))});var M=function(a){return!(a&&a.version&&a.version.major>0)}(window.phantom);M&&"complete"===G.readyState?QUnit.load():c(window,"load",QUnit.load),QUnit.diff=function(){function a(){}var c=-1,d=1,e=0;return a.prototype.DiffMain=function(a,b,c){var d,f,g,h,i,j;if(d=(new Date).getTime()+1e3,null===a||null===b)throw new Error("Null input. (DiffMain)");return a===b?a?[[e,a]]:[]:("undefined"==typeof c&&(c=!0),f=c,g=this.diffCommonPrefix(a,b),h=a.substring(0,g),a=a.substring(g),b=b.substring(g),g=this.diffCommonSuffix(a,b),i=a.substring(a.length-g),a=a.substring(0,a.length-g),b=b.substring(0,b.length-g),j=this.diffCompute(a,b,f,d),h&&j.unshift([e,h]),i&&j.push([e,i]),this.diffCleanupMerge(j),j)},a.prototype.diffCleanupEfficiency=function(a){var b,f,g,h,i,j,k,l,m;for(b=!1,f=[],g=0,h=null,i=0,j=!1,k=!1,l=!1,m=!1;i<a.length;)a[i][0]===e?(a[i][1].length<4&&(l||m)?(f[g++]=i,j=l,k=m,h=a[i][1]):(g=0,h=null),l=m=!1):(a[i][0]===c?m=!0:l=!0,h&&(j&&k&&l&&m||h.length<2&&j+k+l+m===3)&&(a.splice(f[g-1],0,[c,h]),a[f[g-1]+1][0]=d,g--,h=null,j&&k?(l=m=!0,g=0):(g--,i=g>0?f[g-1]:-1,l=m=!1),b=!0)),i++;b&&this.diffCleanupMerge(a)},a.prototype.diffPrettyHtml=function(a){var f,g,h,i=[];for(h=0;h<a.length;h++)switch(f=a[h][0],g=a[h][1],f){case d:i[h]="<ins>"+b(g)+"</ins>";break;case c:i[h]="<del>"+b(g)+"</del>";break;case e:i[h]="<span>"+b(g)+"</span>"}return i.join("")},a.prototype.diffCommonPrefix=function(a,b){var c,d,e,f;if(!a||!b||a.charAt(0)!==b.charAt(0))return 0;for(e=0,d=Math.min(a.length,b.length),c=d,f=0;e<c;)a.substring(f,c)===b.substring(f,c)?(e=c,f=e):d=c,c=Math.floor((d-e)/2+e);return c},a.prototype.diffCommonSuffix=function(a,b){var c,d,e,f;if(!a||!b||a.charAt(a.length-1)!==b.charAt(b.length-1))return 0;for(e=0,d=Math.min(a.length,b.length),c=d,f=0;e<c;)a.substring(a.length-c,a.length-f)===b.substring(b.length-c,b.length-f)?(e=c,f=e):d=c,c=Math.floor((d-e)/2+e);return c},a.prototype.diffCompute=function(a,b,f,g){var h,i,j,k,l,m,n,o,p,q,r,s;return a?b?(i=a.length>b.length?a:b,j=a.length>b.length?b:a,k=i.indexOf(j),k!==-1?(h=[[d,i.substring(0,k)],[e,j],[d,i.substring(k+j.length)]],a.length>b.length&&(h[0][0]=h[2][0]=c),h):1===j.length?[[c,a],[d,b]]:(l=this.diffHalfMatch(a,b),l?(m=l[0],o=l[1],n=l[2],p=l[3],q=l[4],r=this.DiffMain(m,n,f,g),s=this.DiffMain(o,p,f,g),r.concat([[e,q]],s)):f&&a.length>100&&b.length>100?this.diffLineMode(a,b,g):this.diffBisect(a,b,g))):[[c,a]]:[[d,b]]},a.prototype.diffHalfMatch=function(a,b){function c(a,b,c){var d,e,g,h,i,j,k,l,m;for(d=a.substring(c,c+Math.floor(a.length/4)),e=-1,g="";(e=b.indexOf(d,e+1))!==-1;)h=f.diffCommonPrefix(a.substring(c),b.substring(e)),i=f.diffCommonSuffix(a.substring(0,c),b.substring(0,e)),g.length<i+h&&(g=b.substring(e-i,e)+b.substring(e,e+h),j=a.substring(0,c-i),k=a.substring(c+h),l=b.substring(0,e-i),m=b.substring(e+h));return 2*g.length>=a.length?[j,k,l,m,g]:null}var d,e,f,g,h,i,j,k,l,m,n;return d=a.length>b.length?a:b,e=a.length>b.length?b:a,d.length<4||2*e.length<d.length?null:(f=this,l=c(d,e,Math.ceil(d.length/4)),m=c(d,e,Math.ceil(d.length/2)),l||m?(n=m?l&&l[4].length>m[4].length?l:m:l,a.length>b.length?(g=n[0],j=n[1],i=n[2],h=n[3]):(i=n[0],h=n[1],g=n[2],j=n[3]),k=n[4],[g,j,i,h,k]):null)},a.prototype.diffLineMode=function(a,b,f){var g,h,i,j,k,l,m,n,o;for(g=this.diffLinesToChars(a,b),a=g.chars1,b=g.chars2,i=g.lineArray,h=this.DiffMain(a,b,!1,f),this.diffCharsToLines(h,i),this.diffCleanupSemantic(h),h.push([e,""]),j=0,l=0,k=0,n="",m="";j<h.length;){switch(h[j][0]){case d:k++,m+=h[j][1];break;case c:l++,n+=h[j][1];break;case e:if(l>=1&&k>=1){for(h.splice(j-l-k,l+k),j=j-l-k,g=this.DiffMain(n,m,!1,f),o=g.length-1;o>=0;o--)h.splice(j,0,g[o]);j+=g.length}k=0,l=0,n="",m=""}j++}return h.pop(),h},a.prototype.diffBisect=function(a,b,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;for(f=a.length,g=b.length,h=Math.ceil((f+g)/2),i=h,j=2*h,k=new Array(j),l=new Array(j),m=0;m<j;m++)k[m]=-1,l[m]=-1;for(k[i+1]=0,l[i+1]=0,n=f-g,o=n%2!==0,p=0,q=0,r=0,s=0,z=0;z<h&&!((new Date).getTime()>e);z++){for(A=-z+p;A<=z-q;A+=2){for(u=i+A,v=A===-z||A!==z&&k[u-1]<k[u+1]?k[u+1]:k[u-1]+1,x=v-A;v<f&&x<g&&a.charAt(v)===b.charAt(x);)v++,x++;if(k[u]=v,v>f)q+=2;else if(x>g)p+=2;else if(o&&(t=i+n-A,t>=0&&t<j&&l[t]!==-1&&(w=f-l[t],v>=w)))return this.diffBisectSplit(a,b,v,x,e)}for(B=-z+r;B<=z-s;B+=2){for(t=i+B,w=B===-z||B!==z&&l[t-1]<l[t+1]?l[t+1]:l[t-1]+1,y=w-B;w<f&&y<g&&a.charAt(f-w-1)===b.charAt(g-y-1);)w++,y++;if(l[t]=w,w>f)s+=2;else if(y>g)r+=2;else if(!o&&(u=i+n-B,u>=0&&u<j&&k[u]!==-1&&(v=k[u],x=i+v-u,w=f-w,v>=w)))return this.diffBisectSplit(a,b,v,x,e)}}return[[c,a],[d,b]]},a.prototype.diffBisectSplit=function(a,b,c,d,e){var f,g,h,i,j,k;return f=a.substring(0,c),h=b.substring(0,d),g=a.substring(c),i=b.substring(d),j=this.DiffMain(f,h,!1,e),k=this.DiffMain(g,i,!1,e),j.concat(k)},a.prototype.diffCleanupSemantic=function(a){var b,f,g,h,i,j,k,l,m,n,o,p,q;for(b=!1,f=[],g=0,h=null,i=0,l=0,m=0,j=0,k=0;i<a.length;)a[i][0]===e?(f[g++]=i,l=j,m=k,j=0,k=0,h=a[i][1]):(a[i][0]===d?j+=a[i][1].length:k+=a[i][1].length,h&&h.length<=Math.max(l,m)&&h.length<=Math.max(j,k)&&(a.splice(f[g-1],0,[c,h]),a[f[g-1]+1][0]=d,g--,g--,i=g>0?f[g-1]:-1,l=0,m=0,j=0,k=0,h=null,b=!0)),i++;for(b&&this.diffCleanupMerge(a),i=1;i<a.length;)a[i-1][0]===c&&a[i][0]===d&&(n=a[i-1][1],o=a[i][1],p=this.diffCommonOverlap(n,o),q=this.diffCommonOverlap(o,n),p>=q?(p>=n.length/2||p>=o.length/2)&&(a.splice(i,0,[e,o.substring(0,p)]),a[i-1][1]=n.substring(0,n.length-p),a[i+1][1]=o.substring(p),i++):(q>=n.length/2||q>=o.length/2)&&(a.splice(i,0,[e,n.substring(0,q)]),a[i-1][0]=d,a[i-1][1]=o.substring(0,o.length-q),a[i+1][0]=c,a[i+1][1]=n.substring(q),i++),i++),i++},a.prototype.diffCommonOverlap=function(a,b){var c,d,e,f,g,h,i;if(c=a.length,d=b.length,0===c||0===d)return 0;if(c>d?a=a.substring(c-d):c<d&&(b=b.substring(0,c)),e=Math.min(c,d),a===b)return e;for(f=0,g=1;;){if(h=a.substring(e-g),i=b.indexOf(h),i===-1)return f;g+=i,0!==i&&a.substring(e-g)!==b.substring(0,g)||(f=g,g++)}},a.prototype.diffLinesToChars=function(a,b){function c(a){var b,c,f,g,h;for(b="",c=0,f=-1,g=d.length;f<a.length-1;)f=a.indexOf("\n",c),f===-1&&(f=a.length-1),h=a.substring(c,f+1),c=f+1,(e.hasOwnProperty?e.hasOwnProperty(h):void 0!==e[h])?b+=String.fromCharCode(e[h]):(b+=String.fromCharCode(g),e[h]=g,d[g++]=h);return b}var d,e,f,g;return d=[],e={},d[0]="",f=c(a),g=c(b),{chars1:f,chars2:g,lineArray:d}},a.prototype.diffCharsToLines=function(a,b){var c,d,e,f;for(c=0;c<a.length;c++){for(d=a[c][1],e=[],f=0;f<d.length;f++)e[f]=b[d.charCodeAt(f)];a[c][1]=e.join("")}},a.prototype.diffCleanupMerge=function(a){var b,f,g,h,i,j,k,l,m;for(a.push([e,""]),b=0,f=0,g=0,i="",h="";b<a.length;)switch(a[b][0]){case d:g++,h+=a[b][1],b++;break;case c:f++,i+=a[b][1],b++;break;case e:f+g>1?(0!==f&&0!==g&&(j=this.diffCommonPrefix(h,i),0!==j&&(b-f-g>0&&a[b-f-g-1][0]===e?a[b-f-g-1][1]+=h.substring(0,j):(a.splice(0,0,[e,h.substring(0,j)]),b++),h=h.substring(j),i=i.substring(j)),j=this.diffCommonSuffix(h,i),0!==j&&(a[b][1]=h.substring(h.length-j)+a[b][1],h=h.substring(0,h.length-j),i=i.substring(0,i.length-j))),0===f?a.splice(b-g,f+g,[d,h]):0===g?a.splice(b-f,f+g,[c,i]):a.splice(b-f-g,f+g,[c,i],[d,h]),b=b-f-g+(f?1:0)+(g?1:0)+1):0!==b&&a[b-1][0]===e?(a[b-1][1]+=a[b][1],a.splice(b,1)):b++,g=0,f=0,i="",h=""}for(""===a[a.length-1][1]&&a.pop(),k=!1,b=1;b<a.length-1;)a[b-1][0]===e&&a[b+1][0]===e&&(l=a[b][1],m=l.substring(l.length-a[b-1][1].length),m===a[b-1][1]?(a[b][1]=a[b-1][1]+a[b][1].substring(0,a[b][1].length-a[b-1][1].length),a[b+1][1]=a[b-1][1]+a[b+1][1],a.splice(b-1,1),k=!0):l.substring(0,a[b+1][1].length)===a[b+1][1]&&(a[b-1][1]+=a[b+1][1],a[b][1]=a[b][1].substring(a[b+1][1].length)+a[b+1][1],a.splice(b+1,1),k=!0)),b++;k&&this.diffCleanupMerge(a)},function(b,c){var d,e,f;return d=new a,e=d.DiffMain(b,c),d.diffCleanupEfficiency(e),f=d.diffPrettyHtml(e)}}()}}}()}(),function(){function a(a,b,c,d){var e=a===b||Math.abs(a-b)<=c;QUnit.push(e,a,b,d)}function b(a,b,c,d){for(var e,f=0,g=a.length;f<g&&(e=a[f]===b[f]||Math.abs(a[f]-b[f])<=c,e);f++);QUnit.push(e,a,b,d)}function c(a,b,c,d){QUnit.push(Math.abs(a-b)>c,a,b,d)}Test.assert.close=a,Test.assert.closeArray=b,Test.assert.notClose=c}(),function(){function a(a,b,c){for(var d=!0,e=0,f=b.length;e<f;e++)if(a[e]!==b[e]){d=!1;break}QUnit.push(d,a,b,c)}Test.assert.equalArray=a}(),function(){function a(a,b,c,d){var e=a>=b&&a<=c,f=[b,c];QUnit.push(e,a,f,d)}Test.assert.range=a}(),function(){function a(a,b){equal(a.positions.length,b,"Should initialize positions as vec3 array."),equal(a.positionsPrev.length,b,"Should initialize positionsPrev as vec3 array."),equal(a.accumulatedForces.length,b,"Should initialize accumulatedForces as vec3 array."),equal(a.weights.length,b/3,"Should initialize weights as float array.")}function b(a,b){Test.assert.equalArray(a.positions,b,"Should initialize positions with passed values."),Test.assert.equalArray(a.positionsPrev,b,"Should initialize positionsPrev with passed values.")}module("System.Particle");var c=Particulate.ParticleSystem;test("Creation from particle count",function(){var b=3,d=c.create(b);a(d,3*b)}),test("Creation from positions array",function(){var d=[1,1,1,2,2,2,3,3,3],e=c.create(d),f=d.length;a(e,f),b(e,d)}),test("Adding and removing local constraints",function(){var a=c.create(10),b=Particulate.Constraint.create(),d=a._localConstraints;a.addConstraint(b),equal(d.length,1,"Should add local constraint."),a.addConstraint(b),equal(d.length,2,"Should allow adding duplicate constraints."),a.removeConstraint(b),equal(d.length,0,"Should remove all instances of constraint.")}),test("Adding and removing pin constraints",function(){var a=c.create(10),b=Particulate.Constraint.create(),d=a._pinConstraints;a.addPinConstraint(b),equal(d.length,1,"Should add pin constraint."),a.addPinConstraint(b),equal(d.length,2,"Should allow adding duplicate constraints."),a.removePinConstraint(b),equal(d.length,0,"Should remove all instances of constraint.")}),test("Adding and removing forces",function(){var a=c.create(10),b=Particulate.Force.create(),d=a._forces;a.addForce(b),equal(d.length,1,"Should add force."),a.addForce(b),equal(d.length,2,"Should allow adding duplicate forces."),a.removeForce(b),equal(d.length,0,"Should remove all instances of force.")}),test("Setting weights",function(){var a=c.create(3),b=a.weights;Test.assert.equalArray(b,[1,1,1],"Should initialize weights with neutral value of 1."),a.setWeight(1,2),equal(b[1],2,"Should set particle weight at index."),a.setWeights(3),Test.assert.equalArray(b,[3,3,3],"Should set all weights.")})}(),function(){module("Constraint");var a=Particulate.Constraint;test("Creation",function(){var b=a.create(3,1);equal(b.indices.length,3,"Should initialize indices as int array.")}),test("Setting indices",function(){var b=1,c=4,d=[b,c],e=a.create(2,1);e.setIndices(b,c),Test.assert.equalArray(e.indices,d,"Should set indices from integers."),e.setIndices(d),Test.assert.equalArray(e.indices,d,"Should set indices from array.")}),test("Setting indices with index offset",function(){var b=1,c=4,d=2,e=1,f=3,g=[b,c],h=[0,0,0,b,c],i=a.create(d,e,f);i.setIndices(b,c),Test.assert.equalArray(i.indices,h,"Should set indices from integers."),i.setIndices(g),Test.assert.equalArray(i.indices,h,"Should set indices from array.")})}(),function(){function a(a,c){var d=Particulate.ParticleSystem.create(3,50),e=b.create(a,0,1,2);c&&d.perturb(.5),d.addConstraint(e),d.tick(1);var f=(""+a).slice(0,5),g=c?"Should constrain particles to "+f+" radians.":"Should constrain coincident particles to "+f+" radians.";Test.assert.close(d.getAngle(0,1,2),a,.1,g)}module("Constraint.Angle");var b=Particulate.AngleConstraint,c=Math.PI;test("Creation",function(){var a=2,c=3,d=1,e=3,f=2,g=[0,1,2,3,4,5],h=b.create([a,c],d,e,f),i=b.create([a,c],g);Test.assert.equalArray(h.indices,[d,e,f],"Should create indices from int arguments."),Test.assert.equalArray(i.indices,g,"Should create indices from int array.")}),test("Application of angle",function(){for(var b,d=10,e=0;e<d;e++)b=c*e/(d-1),a(b,!0),a(b,!1)}),test("Application of angle range",function(){var a=Particulate.ParticleSystem.create(9,50),d=b.create([0,.25*c],0,1,2),e=b.create([.25*c,1/0],3,4,5),f=b.create([.25*c,.75*c],6,7,8),g=.1;a.setPosition(0,[0,10,0]),a.setPosition(2,[10,0,0]),a.setPosition(3,[10,2,0]),a.setPosition(5,[10,1,0]),a.setPosition(6,[-10,0,0]),a.setPosition(8,[10,0,0]),a.addConstraint(d),a.addConstraint(e),a.addConstraint(f),a.tick(1),Test.assert.range(a.getAngle(0,1,2),d._min-g,d._max+g,"Should constrain particles if angle is greater than upper bound of range."),Test.assert.range(a.getAngle(3,4,5),e._min-g,e._max+g,"Should constrain particles if angle is less than lower bound of range."),Test.assert.range(a.getAngle(6,7,8),f._min-g,f._max+g,"Should not affect particles within range tolerance.")})}(),function(){module("Constraint.Axis");var a=Particulate.ParticleSystem,b=Particulate.AxisConstraint,c=Particulate.Vec3;test("Creation",function(){var a=0,c=1,d=1,e=[0,1,2],f=b.create(a,c,d),g=b.create(a,c,e);Test.assert.equalArray(f.indices,[a,c,d],"Should create indices from int arguments."),Test.assert.equalArray(g.indices,[a,c].concat(e),"Should create indices from int array.")}),test("Application",function(){function d(a){return e.getPosition(a,k)[1]}var e=a.create(6,10),f=0,g=1,h=b.create(f,g,2),i=b.create(f,g,[3,4,5]),j=10,k=c.create();e.perturb(20),e.setPosition(f,[10,j,0]),e.setPosition(g,[20,j,0]),e.addConstraint(h),e.addConstraint(i),e.tick(1),Test.assert.close(d(2),j,.1,"Should constrain single particle to axis."),Test.assert.closeArray([d(3),d(4),d(5)],[j,j,j],.1,"Should constrain multiple particles to axis.")})}(),function(){module("Constraint.BoundingPlane");var a=Particulate.ParticleSystem,b=Particulate.BoundingPlaneConstraint,c=Particulate.Vec3;test("Creation",function(){var a=[0,1,2],c=[0,1,0],d=b.create(a,c);Test.assert.equalArray(d.bufferVec3,[].concat(a,c),"Should initialize origin and normal vec3s.")}),test("Application",function(){var d=a.create(2,10),e=[5,6,7],f=[0,0,1],g=b.create(e,f),h=c.create();d.setPosition(0,[10,5,20]),d.setPosition(1,[10,10,10]),d.addConstraint(g),d.tick(1),Test.assert.range(d.getPosition(0,h)[2],e[2],1/0,"Should constrain particles behind plane."),Test.assert.equalArray(d.getPosition(1,h),[10,10,10],"Should not affect particles in front of plane.")}),test("Application with distance influence",function(){var d=a.create(2,10),e=[5,6,7],f=[0,0,1],g=1/0,h=b.create(e,f,g),i=c.create();d.setPosition(0,[10,5,20]),d.setPosition(1,[10,10,10]),d.addConstraint(h),d.tick(1),Test.assert.close(d.getPosition(0,i)[2],e[2],.1,"Should constrain particles behind plane."),Test.assert.close(d.getPosition(1,i)[2],e[2],.1,"Should constrain particles in front of plane within distance influence.")})}(),function(){module("Constraint.Box");var a=Particulate.BoxConstraint,b=Particulate.Vec3;test("Creation",function(){var b=[-10,-10,-10],c=[10,10,10],d=a.create(b,c);Test.assert.equalArray(d.bufferVec3,[].concat(b,c),"Should initialize bounds from min and max vec3s.")}),test("Application",function(){var c=Particulate.ParticleSystem.create(4,10),d=[-1,-2,-3],e=[4,5,6],f=a.create(d,e);c.setPosition(0,20,-20,-50),c.addConstraint(f),c.tick(1);var g=c.getPosition(0,b.create());Test.assert.range(g[0],d[0],e[0],"Should bound x position."),Test.assert.range(g[1],d[1],e[1],"Should bound y position."),Test.assert.range(g[2],d[2],e[2],"Should bound z position.")})}(),function(){module("Constraint.Distance");var a=Particulate.DistanceConstraint;test("Creation",function(){var b=2,c=3,d=1,e=3,f=[0,1,2,3],g=a.create([b,c],d,e),h=a.create([b,c],f);equal(g._min2,b*b,"Should initialize precalculated min^2."),equal(g._max2,c*c,"Should initialize precalculated max^2."),Test.assert.equalArray(g.indices,[d,e],"Should create indices from int arguments."),Test.assert.equalArray(h.indices,f,"Should create indices from int array.")}),test("Application of distance",function(){var b=Particulate.ParticleSystem.create(6,10),c=2,d=a.create(c,0,1),e=a.create(c,[2,3,4,5]);b.addConstraint(d),b.addConstraint(e),b.tick(1);var f=b.getDistance(0,1),g=b.getDistance(2,3),h=b.getDistance(4,5);Test.assert.close(f,c,.1,"Should constrain single set of particles to distance."),Test.assert.closeArray([g,h],[c,c],.1,"Should constrain multiple sets of particles to distance.")}),test("Application of distance range",function(){var b=Particulate.ParticleSystem.create(6,10),c=a.create([0,2],0,1),d=a.create([2,1/0],2,3),e=a.create([2,4],4,5);b.addConstraint(c),b.addConstraint(d),b.addConstraint(e),b.setPosition(2,[10,0,0]),b.tick(1),Test.assert.range(b.getDistance(0,1),0,2,"Should not affect coincident particles if lower bound is 0."),Test.assert.range(b.getDistance(2,3),2,1/0,"Should not affect particles within range tolerance."),b.setPosition(2,[1,0,0]),b.setPosition(4,[6,0,0]),b.tick(1),Test.assert.range(b.getDistance(2,3),2,1/0,"Should constrain particles if distance is less than lower bound of range."),Test.assert.range(b.getDistance(4,5),2,4,"Should constrain particles if distance is greater than upper bound of range.")})}(),function(){function a(a,e,f){function g(a){return i.getPosition(a,n)[2]}function h(){return 10}var i=b.create(10,10),j=3,k=c.create(0,1,2,j),l=[4,5,6,7,8,9],m=c.create(0,1,2,l),n=d.create();i.setPosition(0,a),i.setPosition(1,e),i.setPosition(2,f),i.addConstraint(k),i.addConstraint(m),i.tick(20),Test.assert.closeArray(m.bufferVec3,[0,0,1],.1,"Should cache plane normal vector."),Test.assert.close(g(j),10,.1,"Should constrain single set of particles to plane."),Test.assert.closeArray(l.map(g),l.map(h),.1,"Should constrain multiple sets of particles to plane.")}module("Constraint.Plane");var b=Particulate.ParticleSystem,c=Particulate.PlaneConstraint,d=Particulate.Vec3;test("Creation",function(){var a=0,b=1,d=2,e=3,f=[3,4,5],g=c.create(a,b,d,e),h=c.create(a,b,d,f);Test.assert.equalArray(g.indices,[a,b,d,e],"Should create indices from int arguments."),Test.assert.equalArray(h.indices,[a,b,d].concat(f),"Should create indices from int array.")}),test("Application",function(){a([25,15,10],[10,10,10],[50,30,10]),a([5,5,10],[10,10,10],[15,15,10])})}(),function(){module("Constraint.Point");var a=Particulate.ParticleSystem,b=Particulate.PointConstraint,c=Array.prototype.slice;test("Creation",function(){var a=[1,2,3],c=0,d=b.create(a,c);Test.assert.equalArray(d.bufferVec3,a,"Should initialize position as passed vec3.")}),test("Application",function(){var d=a.create(4,10),e=[1,2,3],f=2,g=b.create(e,f);d.addConstraint(g),d.tick(1);var h=3*f,i=c.call(d.positions,h,h+3),j=c.call(d.positionsPrev,h,h+3);Test.assert.equalArray(i,e,"Should set particle's position."),Test.assert.equalArray(j,e,"Should set particle's previous position.")})}(),function(){module("Force");var a=Particulate.Force;test("Creation",function(){var b=a.create(),c=a.create([1,2,3],{type:a.REPULSOR});equal(b.vector.length,3,"Should initialize vector as vec3 array."),equal(b.type,a.ATTRACTOR,"Should initialize type as attractor by default."),equal(c.type,a.REPULSOR,"Should set type per constructor options.")})}(),function(){module("Force.Directional");var a=Particulate.ParticleSystem,b=Particulate.DirectionalForce,c=Particulate.Vec3;test("Application",function(){var d=a.create(4,10),e=b.create([0,1,2]);d.addForce(e),d.tick(1);var f=c.create(4);d.each(function(a,b){c.set(f,a,e.vector)}),Test.assert.equalArray(d.accumulatedForces,f,"Should be directly applied to all particles.")})}(),function(){module("Force.Point");var a=Particulate.PointForce;test("Creation",function(){var b=4,c=a.create([1,2,3],{radius:b});equal(c._radius2,b*b,"Should initialize precalculated radius^2.")}),test("Application of attractor",function(){var b=[0,1,2],c=20,d=Particulate.ParticleSystem.create(4,10),e=a.create(b,{radius:c});d.setPosition(0,b),d.setPosition(1,30,30,30);var f=d.getDistance(0,2),g=d.getDistance(0,1);d.addForce(e),d.tick(1);var h=d.getDistance(0,1);ok(h<g,"Attractor should move particles outside its radius toward defined point."),equal(d.getDistance(0,2),f,"Attractor should not affect particles within its radius.")}),test("Application of repulsor",function(){var b=[0,1,2],c=20,d=Particulate.ParticleSystem.create(4,10),e=a.create(b,{type:Particulate.Force.REPULSOR,radius:c});d.setPosition(0,b),d.setPosition(1,30,30,30);var f=d.getDistance(0,1),g=d.getDistance(0,2);d.addForce(e),d.tick(1);var h=d.getDistance(0,2);ok(h>g,"Repulsor should move particles within its radius away from defined point."),equal(d.getDistance(0,1),f,"Repulsor should not affect particles outside its radius.")}),test("Application of attractor/repulsor",function(){var b=[0,1,2],c=20,d=Particulate.ParticleSystem.create(4,10),e=a.create(b,{type:Particulate.Force.ATTRACTOR_REPULSOR,radius:c});d.setPosition(0,b),d.setPosition(1,30,30,30);var f=d.getDistance(0,1),g=d.getDistance(0,2);d.addForce(e),d.tick(1);var h=d.getDistance(0,1),i=d.getDistance(0,2);ok(i>g,"Attractor/Repulsor should move particles within its radius away from defined point."),ok(h<f,"Attractor/Repulsor should move particles outside its radius toward defined point.")})}(),function(){module("Vec3");var a=Particulate.Vec3,b=Array.prototype.slice;test("Setting a vector of a float buffer",function(){var c=new Float32Array(9),d=[1,2,3],e=[4,5,6],f=[7,8,9];a.set(c,0,d),a.set(c,1,e),a.set(c,2,f[0],f[1],f[2]),Test.assert.equalArray(b.call(c,0,3),d,"Should set first vec3 from vec3."),Test.assert.equalArray(b.call(c,3,6),e,"Should set second vec3 from vec3."),Test.assert.equalArray(b.call(c,6,9),f,"Should set third vec3 from floats.")}),test("Getting a vector from a float buffer",function(){var b=[0,1,2],c=[3,4,5],d=new Float32Array([].concat(b,c)),e=a.copy(d,0,a.create()),f=a.copy(d,1,a.create());Test.assert.equalArray(e,b,"Should get first vec3."),Test.assert.equalArray(f,c,"Should get second vec3.")}),test("Calculating vector length",function(){var b=3.742,c=a.create([1,2,3]);Test.assert.close(a.length(c,0),b,.01,"Should calculate length."),Test.assert.close(a.lengthSq(c,0),b*b,.01,"Should calculate squared length.")}),test("Calculating vector distance",function(){var b=1.732,c=a.create([1,2,3,2,3,4]);Test.assert.close(a.distance(c,0,1),b,.1,"Should calculate distance."),Test.assert.close(a.distanceSq(c,0,1),b*b,.1,"Should calculate squared distance.")}),test("Normalizing a vector",function(){var b=a.create([1,10,5]);a.normalize(b,0),Test.assert.close(a.length(b,0),1,.01,"Should normalize vector in place.")}),test("Calculating vector angle",function(){var b=2.145,c=a.create([1,2,3,6,5,4,7,8,9]);Test.assert.close(a.angle(c,0,1,2),b,.01,"Should calculate angle between vectors.")})}(),function(){function a(a){var b=document.getElementById("favicon");b?document.head.removeChild(b):b=document.createElement("link"),b.setAttribute("id","favicon"),b.setAttribute("type","image/x-icon"),b.setAttribute("rel","icon"),b.setAttribute("href",a),document.head.appendChild(b)}QUnit.done(function(b){b.failed?(a("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAANElEQVQ4T2NkoBAwUqifgboG/GdgACLCAGgr3GIUF4waAA7B0UCkNAwIp0FMFdTNC+S4AAAt7hQR+uwkyQAAAABJRU5ErkJggg=="),document.title=b.failed+" of "+b.total+" failed."):(a("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAM0lEQVQ4T2NkoBAwUqifgcoG/Gf4T5SLGBEWo7pg1AAGYBCOBiLFYUBUMkRVROW8QIYLACPuFBFvqDn4AAAAAElFTkSuQmCC"),document.title="All "+b.total+" passed.")})}();